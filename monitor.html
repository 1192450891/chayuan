<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>茶耘</title>
    <link data-minify="1" rel="stylesheet" id="bootstrap-css"
          href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css"
          type="text/css" media="all">
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .d {
            border: 2px solid #ff0000;
        }
    </style>
</head>
<body class="bg-main" onload="initData();">
<script src="https://cdn.bootcss.com/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"></script>

<div class="container-fluid">
    <!-- 顶部 -->
    <div class="header bg-header row">
        <div class="header-logo col-md-4 row">
            <img src="assets/gizmos/icon.png" class="img-rounded logo-top col-md-3">
            <a href="index.html">
                <p class="font-title col-md-9 col-sm-12" href="index.html">浙江果茶分析平台</p>
            </a>
        </div>
        <!-- 导航栏 -->
        <div class="col-md-8">
            <nav class="navbar-top" style="margin-right: -30px">
                <div class="navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="menu-item font-item pointer">
                            作物产量
                            <div class="sub-menu" style="left:-16px">
                                <ul class="MenuItems">
                                    <li class="MenuItems-item">
                                        <a href="crop_tea.html">茶叶</a>
                                    </li>
                                    <li class="MenuItems-item">
                                        <a href="crop_fruit.html">水果</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="menu-item font-item pointer">
                            作物面积
                            <div class="sub-menu">
                                <ul class="MenuItems">
                                    <li class="MenuItems-item">
                                        <a href="area_tea.html">茶叶</a>
                                    </li>
                                    <li class="MenuItems-item">
                                        <a href="area_fruit.html">水果</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <li class="menu-item font-item pointer" id="moni">
                            天气指标
                        </li>
                        <li class="menu-item font-item pointer"id="BP">
                            产量预测
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <!-- 图表 -->
    <div class="col-md-12 bottom" style="margin-top: 5px">
        <!-- 左 -->
        <div class="col-md-4 v-box">
            <div class="col-md-12 bottom-frame">
                <div id="chart_radar" style="width:100%;height:42vh;"></div>
            </div>
            <div class="col-md-12 bottom-frame" style="margin-top: 5px">
                <div id="chart_line" style="width:100%;height:42vh;"></div>
            </div>
        </div>
        <!-- 中 -->
        <div class="col-md-4">
            <div class="btn-group" style="margin: auto">
            <button class="button btn-default font-button" type="button" id="btnTea" onclick="OnButtonTea()">茶叶
            </button>
            <button class="button btn-default font-button" type="button" id="btnOra" onclick="OnButtonOra()">柑橘
            </button>
        </div>
            <div class="btn-group" style="margin: auto">
                <button class="button btn-default font-button" type="button" id="btnTemp" onclick="OnButtonTemp()">温度
                </button>
                <button class="button btn-default font-button" type="button" id="btnPres" onclick="OnButtonPres()">气压
                </button>
                <button class="button btn-default font-button" type="button" id="btnShum" onclick="OnButtonShum()">比湿
                </button>
                <button class="button btn-default font-button" type="button" id="btnWind" onclick="OnButtonWind()">风速
                </button>
                <button class="button btn-default font-button" type="button" id="btnPrec" onclick="OnButtonPrec()">降水
                </button>
                <button class="button btn-default font-button" type="button" id="btnSrad" onclick="OnButtonSrad()">短辐射
                </button>
                <button class="button btn-default font-button" type="button" id="btnLrad" onclick="OnButtonLrad()">长辐射
                </button>
            </div>
            <div class="bg-map">
                <div id="EchartMap" style="height: 580px;width: 450px;
                      border-radius: 5px;
			          padding: 0px;
			          margin: 0px;
			          border-width: 0px;" ref="myEchart"></div>
            </div>
        </div>
        <!-- 右 -->
        <div class="col-md-4 v-box">
            <div class="col-md-12 bottom-frame">
                <div id="chart_heatmap" style="width: 100%;height:85vh;"></div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    //实时获取时间
    function getTime() {
        var t = new Date();
        var year = t.getFullYear();
        var month = t.getMonth();
        var day = t.getDate();
        var hour = t.getHours();
        var minute = t.getMinutes();
        var second = t.getSeconds();
        $('.time').text(year + '/' + month + '/' + day + '/ ' + hour + ':' + minute + ':' + second);
    }

    getTime();
    setInterval(function () {
        getTime()
    }, 1000);
</script>
<script type="text/javascript">
    $('#moni').on('click', function () {
        self.location = 'monitor.html';
    })
    $('#BP').on('click', function () {
        self.location = 'BP.html';
    })
</script>
<script type="text/javascript">
    //json静态数据
    var teadata;

    var testdata = {
        "1": "1998_12",
        "2": "1999_1",
        "3": "1999_2",
        "4": "1999_3",
        "5": "1999_4",
        "6": "1999_5",
        "7": "1999_6",
        "8": "1999_7",
        "9": "1999_8",
        "10": "1999_9",
        "11": "1999_10",
        "12": "1999_11",
        "13": "1999_12",
        "14": "2000_1",
        "15": "2000_2",
        "16": "2000_3",
        "17": "2000_4",
        "18": "2000_5",
        "19": "2000_6",
        "20": "2000_7",
        "21": "2000_8",
        "22": "2000_9",
        "23": "2000_10",
        "24": "2000_11",
        "25": "2000_12",
        "26": "2001_1",
        "27": "2001_2",
        "28": "2001_3",
        "29": "2001_4",
        "30": "2001_5",
        "31": "2001_6",
        "32": "2001_7",
        "33": "2001_8",
        "34": "2001_9",
        "35": "2001_10",
        "36": "2001_11",
        "37": "2001_12",
        "38": "2002_1",
        "39": "2002_2",
        "40": "2002_3",
        "41": "2002_4",
        "42": "2002_5",
        "43": "2002_6",
        "44": "2002_7",
        "45": "2002_8",
        "46": "2002_9",
        "47": "2002_10",
        "48": "2002_11",
        "49": "2002_12",
        "50": "2003_1",
        "51": "2003_2",
        "52": "2003_3",
        "53": "2003_4",
        "54": "2003_5",
        "55": "2003_6",
        "56": "2003_7",
        "57": "2003_8",
        "58": "2003_9",
        "59": "2003_10",
        "60": "2003_11",
        "61": "2003_12",
        "62": "2004_1",
        "63": "2004_2",
        "64": "2004_3",
        "65": "2004_4",
        "66": "2004_5",
        "67": "2004_6",
        "68": "2004_7",
        "69": "2004_8",
        "70": "2004_9",
        "71": "2004_10",
        "72": "2004_11",
        "73": "2004_12",
        "74": "2005_1",
        "75": "2005_2",
        "76": "2005_3",
        "77": "2005_4",
        "78": "2005_5",
        "79": "2005_6",
        "80": "2005_7",
        "81": "2005_8",
        "82": "2005_9",
        "83": "2005_10",
        "84": "2005_11",
        "85": "2005_12",
        "86": "2006_1",
        "87": "2006_2",
        "88": "2006_3",
        "89": "2006_4",
        "90": "2006_5",
        "91": "2006_6",
        "92": "2006_7",
        "93": "2006_8",
        "94": "2006_9",
        "95": "2006_10",
        "96": "2006_11",
        "97": "2006_12",
        "98": "2007_1",
        "99": "2007_2",
        "100": "2007_3",
        "101": "2007_4",
        "102": "2007_5",
        "103": "2007_6",
        "104": "2007_7",
        "105": "2007_8",
        "106": "2007_9",
        "107": "2007_10",
        "108": "2007_11",
        "109": "2007_12",
        "110": "2008_1",
        "111": "2008_2",
        "112": "2008_3",
        "113": "2008_4",
        "114": "2008_5",
        "115": "2008_6",
        "116": "2008_7",
        "117": "2008_8",
        "118": "2008_9",
        "119": "2008_10",
        "120": "2008_11",
        "121": "2008_12",
        "122": "2009_1",
        "123": "2009_2",
        "124": "2009_3",
        "125": "2009_4",
        "126": "2009_5",
        "127": "2009_6",
        "128": "2009_7",
        "129": "2009_8",
        "130": "2009_9",
        "131": "2009_10",
        "132": "2009_11",
        "133": "2009_12",
        "134": "2010_1",
        "135": "2010_2",
        "136": "2010_3",
        "137": "2010_4",
        "138": "2010_5",
        "139": "2010_6",
        "140": "2010_7",
        "141": "2010_8",
        "142": "2010_9",
        "143": "2010_10",
        "144": "2010_11",
        "145": "2010_12",
        "146": "2011_1",
        "147": "2011_2",
        "148": "2011_3",
        "149": "2011_4",
        "150": "2011_5",
        "151": "2011_6",
        "152": "2011_7",
        "153": "2011_8",
        "154": "2011_9",
        "155": "2011_10",
        "156": "2011_11",
        "157": "2011_12",
        "158": "2012_1",
        "159": "2012_2",
        "160": "2012_3",
        "161": "2012_4",
        "162": "2012_5",
        "163": "2012_6",
        "164": "2012_7",
        "165": "2012_8",
        "166": "2012_9",
        "167": "2012_10",
        "168": "2012_11",
        "169": "2012_12",
        "170": "2013_1",
        "171": "2013_2",
        "172": "2013_3",
        "173": "2013_4",
        "174": "2013_5",
        "175": "2013_6",
        "176": "2013_7",
        "177": "2013_8",
        "178": "2013_9",
        "179": "2013_10",
        "180": "2013_11",
        "181": "2013_12",
        "182": "2014_1",
        "183": "2014_2",
        "184": "2014_3",
        "185": "2014_4",
        "186": "2014_5",
        "187": "2014_6",
        "188": "2014_7",
        "189": "2014_8",
        "190": "2014_9",
        "191": "2014_10",
        "192": "2014_11",
        "193": "2014_12",
        "194": "2015_1",
        "195": "2015_2",
        "196": "2015_3",
        "197": "2015_4",
        "198": "2015_5",
        "199": "2015_6",
        "200": "2015_7",
        "201": "2015_8",
        "202": "2015_9",
        "203": "2015_10",
        "204": "2015_11",
        "205": "2015_12",
        "206": "2016_1",
        "207": "2016_2",
        "208": "2016_3",
        "209": "2016_4",
        "210": "2016_5",
        "211": "2016_6",
        "212": "2016_7",
        "213": "2016_8",
        "214": "2016_9",
        "215": "2016_10",
        "216": "2016_11",
        "217": "2016_12",
        "218": "2017_1",
        "219": "2017_2",
        "220": "2017_3",
        "221": "2017_4",
        "222": "2017_5",
        "223": "2017_6",
        "224": "2017_7",
        "225": "2017_8",
        "226": "2017_9",
        "227": "2017_10",
        "228": "2017_11",
        "229": "2017_12",
        "230": "2018_1",
        "231": "2018_2",
        "232": "2018_3",
        "233": "2018_4",
        "234": "2018_5",
        "235": "2018_6",
        "236": "2018_7",
        "237": "2018_8",
        "238": "2018_9",
        "239": "2018_10",
        "240": "2018_11",
        "241": "2018_12",
    };
    //数据切换
    var mode = 0;
    var mmode = 0;
    var mmodename= "茶叶";
    var modename = "近地面温度";
    var name = "西湖区";
    SetClass(mode);

    var heatlen = 50;

    var myChart_radar = echarts.init(document.getElementById("chart_radar"));
    var myChart_line = echarts.init(document.getElementById("chart_line"));

    var myChart_map = echarts.init(document.getElementById("EchartMap"));

    var myChart_heatmap = echarts.init(document.getElementById("chart_heatmap"));

    SetRadar(name);
    SetLine(name);
    SetHeatMap();
    myChart_map.on("click", function (params) {
        if (params.name.indexOf('月') === -1) {
            name = params.name;
            SetRadar(name);
            SetLine(name);
        }
    })

    function RemoveClass(mode) {
        var btn;
            switch (mode) {
                case 0:
                    btn = document.getElementById("btnTemp");
                    btn.classList.remove("button-active");
                    break;
                case 1:
                    btn = document.getElementById("btnPres");
                    btn.classList.remove("button-active");
                    break;
                case 2:
                    btn = document.getElementById("btnShum");
                    btn.classList.remove("button-active");
                    break;
                case 3:
                    btn = document.getElementById("btnWind");
                    btn.classList.remove("button-active");
                    break;
                case 6:
                    btn = document.getElementById("btnPrec");
                    btn.classList.remove("button-active");
                    break;
                case 4:
                    btn = document.getElementById("btnSrad");
                    btn.classList.remove("button-active");
                    break;
                case 5:
                    btn = document.getElementById("btnLrad");
                    btn.classList.remove("button-active");
                    break;
        }
    }

    function SetClass(mode) {//不清楚为什么456不按顺序
        var btn;
        switch (mode) {
            case 0:
                btn = document.getElementById("btnTemp");
                if (btn.className.indexOf("button-active") === -1) {
                    btn.className += " button-active";
                }
                break;
            case 1:
                btn = document.getElementById("btnPres");
                if (btn.className.indexOf("button-active") === -1) {
                    btn.className += " button-active";
                }
                break;
            case 2:
                btn = document.getElementById("btnShum");
                if (btn.className.indexOf("button-active") === -1) {
                    btn.className += " button-active";
                }
                break;
            case 3:
                btn = document.getElementById("btnWind");
                if (btn.className.indexOf("button-active") === -1) {
                    btn.className += " button-active";
                }
                break;
            case 6:
                btn = document.getElementById("btnPrec");
                if (btn.className.indexOf("button-active") === -1) {
                    btn.className += " button-active";
                }
                break;
            case 4:
                btn = document.getElementById("btnSrad");
                if (btn.className.indexOf("button-active") === -1) {
                    btn.className += " button-active";
                }
                break;
            case 5:
                btn = document.getElementById("btnLrad");
                if (btn.className.indexOf("button-active") === -1) {
                    btn.className += " button-active";
                }
                break;
        }
    }
    function RemoveMClass(mmode) {
        var btn;
        switch (mmode) {
            case 0:
                btn = document.getElementById("btnTea");
                btn.classList.remove("button-active");
                break;
            case 1:
                btn = document.getElementById("btnOra");
                btn.classList.remove("button-active");
                break;
        }
    }
    function SetMClass(mmode) {
        var btn;
        switch (mmode) {
            case 0:
                btn = document.getElementById("btnTea");
                if (btn.className.indexOf("button-active") === -1) {
                    btn.className += " button-active";
                }
                break;
            case 1:
                btn = document.getElementById("btnOra");
                if (btn.className.indexOf("button-active") === -1) {
                    btn.className += " button-active";
                }
                break;

        }
    }
    //按钮数据更新
    {        function OnButtonTea() {RemoveMClass(mmode);
        mmode = 0;
        mmodename = "茶叶";
        SetMClass(mmode);
        SetHeatMap();
        initData();
    }
        function OnButtonOra() {RemoveMClass(mmode);
            mmode = 1;
            mmodename = "柑橘";
            SetMClass(mmode);
            SetHeatMap();
            initData();
        }
        function OnButtonTemp() {RemoveClass(mode);
            mode = 0;
            modename = "近地面温度";SetClass(mode);
            SetHeatMap();
            initData();
            SetRadar(name);
            SetLine(name);
        }

        function OnButtonPres() {RemoveClass(mode);
            mode = 1;
            modename = "地表气压";SetClass(mode);
            SetHeatMap();
            initData();
            SetRadar(name);
            SetLine(name);
        }

        function OnButtonShum() {RemoveClass(mode);
            mode = 2;
            modename = "近地面空气比湿";SetClass(mode);
            SetHeatMap();
            initData();
            SetRadar(name);
            SetLine(name);
        }

        function OnButtonWind() {RemoveClass(mode);
            mode = 3;
            modename = "近地面全风速";SetClass(mode);
            SetHeatMap();
            initData();
            SetRadar(name);
            SetLine(name);
        }

        function OnButtonSrad() {RemoveClass(mode);
            mode = 4;
            modename = "向下短波辐射";SetClass(mode);
            SetHeatMap();
            initData();
            SetRadar(name);
            SetLine(name);
        }

        function OnButtonLrad() {RemoveClass(mode);
            mode = 5;
            modename = "向下长波辐射";SetClass(mode);
            SetHeatMap();
            initData();
            SetRadar(name);
            SetLine(name);
        }

        function OnButtonPrec() {RemoveClass(mode);
            mode = 6;
            modename = "降水率";SetClass(mode);
            SetHeatMap();
            initData();
            SetRadar(name);
            SetLine(name);
        }
    }

    //地图
    function initData() {
        teadata = {
            "month_12": [{}],
            "month_11": [{}],
            "month_10": [{}],
            "month_9": [{}],
            "month_8": [{}],
            "month_7": [{}],
            "month_6": [{}],
            "month_5": [{}],
            "month_4": [{}],
            "month_3": [{}],
            "month_2": [{}],
            "month_1": [{}]
        };
            switch (mode) {
                case 0:
                    $.get("./json/temp.json", function (result) {
                        var len = result.length;
                        for (var i = 0; i < len; i++) {
                            for (var month = 1; month < 13; month++) {
                                if (result[i]['district'] !== result[i]['urban']) {
                                    teadata['month_' + month].push({
                                        name: result[i]['district'],
                                        value: result[i]['2018_' + month]
                                    });
                                }
                            }
                        }
                        initMap();
                    });
                    break;
                case 1:
                    $.get("./json/pres.json", function (result) {
                        var len = result.length;
                        for (var i = 0; i < len; i++) {
                            for (var month = 1; month < 13; month++) {
                                if (result[i]['district'] !== result[i]['urban']) {
                                    teadata['month_' + month].push({
                                        name: result[i]['district'],
                                        value: result[i]['2018_' + month]
                                    });
                                }
                            }
                        }
                        initMap();
                    });
                    break;
                case 2:
                    $.get("./json/shum.json", function (result) {
                        var len = result.length;
                        for (var i = 0; i < len; i++) {
                            for (var month = 1; month < 13; month++) {
                                if (result[i]['district'] !== result[i]['urban']) {
                                    teadata['month_' + month].push({
                                        name: result[i]['district'],
                                        value: result[i]['2018_' + month]
                                    });
                                }
                            }
                        }
                        initMap();
                    });
                    break;
                case 3:
                    $.get("./json/wind.json", function (result) {
                        var len = result.length;
                        for (var i = 0; i < len; i++) {
                            for (var month = 1; month < 13; month++) {
                                if (result[i]['district'] !== result[i]['urban']) {
                                    teadata['month_' + month].push({
                                        name: result[i]['district'],
                                        value: result[i]['2018_' + month]
                                    });
                                }
                            }
                        }
                        initMap();
                    });
                    break;
                case 4:
                    $.get("./json/srad.json", function (result) {
                        var len = result.length;
                        for (var i = 0; i < len; i++) {
                            for (var month = 1; month < 13; month++) {
                                if (result[i]['district'] !== result[i]['urban']) {
                                    teadata['month_' + month].push({
                                        name: result[i]['district'],
                                        value: result[i]['2018_' + month]
                                    });
                                }
                            }
                        }
                        initMap();
                    });
                    break;
                case 5:
                    $.get("./json/lrad.json", function (result) {
                        var len = result.length;
                        for (var i = 0; i < len; i++) {
                            for (var month = 1; month < 13; month++) {
                                if (result[i]['district'] !== result[i]['urban']) {
                                    teadata['month_' + month].push({
                                        name: result[i]['district'],
                                        value: result[i]['2018_' + month]
                                    });
                                }
                            }
                        }
                        initMap();
                    });
                    break;
                case 6:
                    $.get("./json/prec.json", function (result) {
                        var len = result.length;
                        for (var i = 0; i < len; i++) {
                            for (var month = 1; month < 13; month++) {
                                if (result[i]['district'] !== result[i]['urban']) {
                                    teadata['month_' + month].push({
                                        name: result[i]['district'],
                                        value: result[i]['2018_' + month]
                                    });
                                }
                            }
                        }
                        initMap();
                    });
                    break;
            }
        }

    function initMap() {
        $.get("./json/zj.json", function (result) {
            echarts.registerMap("zj", result);
            console.log(teadata);
            var option;
            option = {
                baseOption: {
                    timeline: {
                        axisType: 'category',
                        autoPlay: true,
                        playInterval: 1000,
                        data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']
                    },
                    //          backgroundColor: 'rgba(100,0,0,0)',
                    title: {
                        show: true,
                        left: 'center',
                        textStyle: {
                            color: '#fff'
                        }
                    },
                    tooltip: {
                        trigger: 'item',
                    },
                    toolbox: {
                        feature: {
                            saveAsImage: {
                                title: '保存',
                                icon: 'image://assets/gizmos/download.png',
                                backgroundColor:'rgba(0,0,0,0)',
                                emphasis:{
                                    iconStyle: {
                                        textFill:'#fff'}
                                }
                            },
                        },
                    },
                    visualMap: {
                        text: ['High', 'Low'],
                        realtime: true,
                        calculable: true,
                        inRange: {
                            color: ['#313695',
                                '#4575b4',
                                '#74add1',
                                '#abd9e9',
                                '#e0f3f8',
                                '#ffffbf',
                                '#fee090',
                                '#fdae61',
                                '#f46d43',
                                '#d73027',
                                '#a50026']
                        },
                        textStyle:{
                            color:'#fff'
                        }
                    },
                    series: [{
                        name: '数量',
                        type: 'map',
                        mapType: "zj",
                        selectedMode: 'single',
                        aspectScale: 1,
                        nameProperty: 'district',
                        itemStyle: {
                            normal: {
                                label: {
                                    show: true
                                },
                                borderWidth: 1, //省份的边框宽度
                                borderColor: '#7E4A32', //省份的边框颜色
                                color: '#6fec6b', //地图背景颜色
                                areaColor: "#DCCFF8",
                                areaStyle: {
                                    color: '#f60'
                                } //设置地图颜色
                            },
                            emphasis: {
                                label: {
                                    show: true
                                }
                            }
                        },
                        roam: true,
                        zoom: 1.2,
                        label: {
                            normal: {
                                show: true,
                            },
                            emphasis: {
                                show: true
                            }
                        }
                    },
                    ]
                },
                options: [
                    {
                        title: {text: '1月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_1}
                        ]
                    },
                    {
                        title: {text: '2月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_2}
                        ]
                    },
                    {
                        title: {text: '3月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_3}
                        ]
                    },
                    {
                        title: {text: '4月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_4}
                        ]
                    },
                    {
                        title: {text: '5月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_5}
                        ]
                    },
                    {
                        title: {text: '6月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_6}
                        ]
                    },
                    {
                        title: {text: '7月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_7}
                        ]
                    },
                    {
                        title: {text: '8月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_8}
                        ]
                    },
                    {
                        title: {text: '9月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_9}
                        ]
                    },
                    {
                        title: {text: '10月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_10}
                        ]
                    },
                    {
                        title: {text: '11月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_11}
                        ]
                    },
                    {
                        title: {text: '12月浙江省'+modename+'情况'},
                        series: [
                            {data: teadata.month_12}
                        ]
                    }
                ]
            };
            myChart_map.setOption(option);
            switch (mode) {
                case 0:
                    option = {
                        baseOption: {
                            tooltip: {
                                formatter:function (data) {
                                    var text='<b>'+data.value.toFixed(2)+'℃</b>'
                                    return text;
                                }
                            },
                            visualMap: {
                                min: -4,
                                max: 30,
                            }
                        }
                    };
                    break;
                case 1:
                    option = {
                        baseOption: {
                            tooltip: {
                                formatter:function (data) {
                                    var text='<b>'+data.value.toFixed(2)+'Pa</b>'
                                    return text;
                                }
                            },
                            visualMap: {
                                min: 88000,
                                max: 105000,
                            }
                        }
                    };
                    break;
                case 2:
                    option = {
                        baseOption: {
                            tooltip: {
                                formatter:function (data) {
                                    var text='<b>'+data.value.toFixed(2)+'Kg/kg</b>'
                                    return text;
                                }
                            },
                            visualMap: {
                                min: 0,
                                max: 20,
                            }
                        }
                    };
                    break;
                case 3:
                    option = {
                        baseOption: {
                            tooltip: {
                                formatter:function (data) {
                                    var text='<b>'+data.value.toFixed(2)+'m/s</b>'
                                    return text;
                                }
                            },
                            visualMap: {
                                min: 1,
                                max: 3,
                            }
                        }
                    };
                    break;
                case 4:
                    option = {
                        baseOption: {
                            tooltip: {
                                formatter:function (data) {
                                    var text='<b>'+data.value.toFixed(2)+'W/m2</b>'
                                    return text;
                                }
                            },
                            visualMap: {
                                min: 50,
                                max: 200,
                            }
                        }
                    };
                    break;
                case 5:
                    option = {
                        baseOption: {
                            tooltip: {
                                formatter:function (data) {
                                    var text='<b>'+data.value.toFixed(2)+'W/m2</b>'
                                    return text;
                                }
                            },
                            visualMap: {
                                min: 450,
                                max: 300,
                            }
                        }
                    };
                    break;
                case 6:
                    option = {
                        baseOption: {
                            tooltip: {
                                formatter:function (data) {
                                    var text='<b>'+data.value.toFixed(2)+'Mm/hr</b>'
                                    return text;
                                }
                            },
                            visualMap: {
                                min: 0,
                                max: 0.35,
                            }
                        }
                    };
                    break;
            }
            myChart_map.setOption(option);
        })
    }

    function SetHeatMap() {
        //设定横坐标为月份
        const mouth = [
            '1月', '2月', '3月', '4月', '5月', '6月',
            '7月', '8月', '9月', '10月', '11月', '12月'
        ];
        var name = [];
        var data = [];

        //图表属性设置
        var option = {
            title: {
                text: mmodename+'产量与' + modename + '相关度',
                textStyle: {
                    color: '#fff'
                }
            },
            tooltip: {
                position: 'top'
            },
            grid: {
                top: '5%',
                right: '5%'
            },
            toolbox: {
                feature: {
                    saveAsImage: {
                        title: '保存',
                        icon: 'image://assets/gizmos/download.png',
                        backgroundColor:'rgba(0,0,0,0)',
                        emphasis:{
                            iconStyle: {
                                textFill:'#fff'}
                        }
                    }
                },
            },
            xAxis: {
                type: 'category',
                //输入月份类目轴
                data: mouth,
                axisLabel: {
                    textStyle: {
                        color: '#fff',
                    }
                },
            },
            yAxis: {
                type: 'category',
                //输入地区类目轴
                data: name,
                axisLabel: {
                    textStyle: {
                        color: '#fff',
                    }
                },
            },
            //设置图表数据映射
            visualMap: {
                precision: 2,
                calculable: true,
                orient: 'horizontal',
                left: 'center',
                bottom: '0%',
                textStyle: {color: '#fff',}
            },
            series: [
                {
                    type: 'heatmap'
                }]
        };
        myChart_heatmap.setOption(option);

        //根据选择的气象模块读取代码
            if(mmode===0)
            {
                switch (mode) {
                    case 0:
                        $.get("./json/temp_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.2,
                                },
                                series: [
                                    {
                                        name: '近地面温度RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 1:
                        $.get("./json/pres_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.6,
                                },
                                series: [
                                    {
                                        name: '地表气压RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 2:
                        $.get("./json/shum_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.6,
                                },
                                series: [
                                    {
                                        name: '近地面空气比湿RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 3:
                        $.get("./json/wind_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.6,
                                },
                                series: [
                                    {
                                        name: '近地面全风速RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 4:
                        $.get("./json/srad_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.4,
                                },
                                series: [
                                    {
                                        name: '向下短波辐射RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 5:
                        $.get("./json/lrad_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.6,
                                },
                                series: [
                                    {
                                        name: '向下长波辐射RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 6:
                        $.get("./json/prec_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.3,
                                },
                                series: [
                                    {
                                        name: '降水率RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                }
            }
            else {
                switch (mode) {
                    case 0:
                        $.get("./json/org_temp_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.2,
                                },
                                series: [
                                    {
                                        name: '近地面温度RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 1:
                        $.get("./json/org_pres_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.6,
                                },
                                series: [
                                    {
                                        name: '地表气压RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 2:
                        $.get("./json/org_shum_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.6,
                                },
                                series: [
                                    {
                                        name: '近地面空气比湿RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 3:
                        $.get("./json/org_wind_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.6,
                                },
                                series: [
                                    {
                                        name: '近地面全风速RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 4:
                        $.get("./json/org_srad_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.4,
                                },
                                series: [
                                    {
                                        name: '向下短波辐射RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 5:
                        $.get("./json/org_lrad_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.6,
                                },
                                series: [
                                    {
                                        name: '向下长波辐射RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                    case 6:
                        $.get("./json/org_prec_heat.json", function (result) {
                            for (var i = 0; i < heatlen; i++) {
                                for (var j = 1; j < 13; j++) {
                                    data.push([j - 1, i, result[i][j]]);
                                }
                                name.push(result[i]["district"]);
                            }
                            var option = {
                                visualMap: {
                                    min: 0,
                                    max: 0.3,
                                },
                                series: [
                                    {
                                        name: '降水率RSQ',
                                        data: data,
                                    }
                                ]
                            };
                            myChart_heatmap.setOption(option);
                        });
                        break;
                }
            }
    }

    function SetRadar(name) {
        //储存量化数据与原数据
        var data = [];
        var realdata = [];
        //读取数据
        $.get("./json/index.json", function (result) {
            var len = result.length;
            for (var i = 0; i < len; i++) {
                if (result[i]['district'] === name) {
                    //对数据进行适宜度量化分析
                    var value = result[i]['average_temp'];
                    realdata.push(result[i]['average_temp']);
                    {
                        if (value > 15) {
                            data.push(2);
                        } else if (value > 12 && value <= 15) {
                            data.push(1);
                        } else if (value <= 12 || value === '-') {
                            data.push(0);
                        }
                    }
                    value = result[i]['acc_temp'];
                    realdata.push(result[i]['acc_temp']);
                    {
                        if (value >= 4500) {
                            data.push(2);
                        } else if (value >= 3500 && value < 4500) {
                            data.push(1);
                        } else if (value < 3500 || value === '-') {
                            data.push(0);
                        }
                    }
                    value = result[i]['fre_temp'];
                    realdata.push(result[i]['fre_temp']);
                    {
                        if (value < 20) {
                            data.push(2);
                        } else if (value >= 20 && value < 50) {
                            data.push(1);
                        } else if (value >= 50 || value === '-') {
                            data.push(0);
                        }
                    }
                    value = result[i]['humi'];
                    realdata.push(result[i]['humi']);
                    {
                        if (value > 75 && value <= 90) {
                            data.push(2);
                        } else if (value > 60 && value <= 75) {
                            data.push(1);
                        } else if (value <= 60 || value === '-') {
                            data.push(0);
                        }
                    }
                    value = result[i]['mean'];
                    realdata.push(result[i]['mean']);
                    {
                        if (value > 600 && value <= 900) {
                            data.push(2);
                        } else if (value < 600 || value > 900 && value <= 1200) {
                            data.push(1);
                        } else if (value > 1200 || value === '-') {
                            data.push(0);
                        }
                    }
                    break;
                }
            }
            var option = {
                title: {
                    text: name + '指标量化雷达图',
                    textStyle: {
                        color: 'rgba(255, 255, 255, 255)'
                    }
                },
                tooltip: {
                    show: true,
                    //鼠标移入指示框显示所有原始分析数据与适宜程度
                    formatter: function () {
                        var text = "";
                        {
                            if (data[0] === 2) {
                                text += '<b>年平均气温</b><br />';
                                text += '<b>适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[0] + '℃</b><br />';
                            } else if (data[0] === 1) {
                                text += '<b>年平均气温</b><br />';
                                text += '<b>较适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[0] + '℃</b><br />';
                            } else if (data[0] === 0) {
                                text += '<b>年平均气温</b><br />';
                                text += '<b>不适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[0] + '℃</b><br />';
                            }
                        }
                        {
                            if (data[1] === 2) {
                                text += '<b>稳定通过10℃积温</b><br />';
                                text += '<b>适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[1] + '℃</b><br />';
                            } else if (data[1] === 1) {
                                text += '<b>稳定通过10℃积温</b><br />';
                                text += '<b>较适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[1] + '℃</b><br />';
                            } else if (data[1] === 0) {
                                text += '<b>稳定通过10℃积温</b><br />';
                                text += '<b>不适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[1] + '℃</b><br />';
                            }
                        }
                        {
                            if (data[2] === 2) {
                                text += '<b>极端低气温出现频率</b><br />';
                                text += '<b>适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[2] + '%</b><br />';
                            } else if (data[2] === 1) {
                                text += '<b>极端低气温出现频率</b><br />';
                                text += '<b>较适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[2] + '%</b><br />';
                            } else if (data[2] === 0) {
                                text += '<b>稳定通过10℃积温</b><br />';
                                text += '<b>不适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[2] + '%</b><br />';
                            }
                        }
                        {
                            if (data[3] === 2) {
                                text += '<b>生长关键期相对湿度</b><br />';
                                text += '<b>适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[3] + '%</b><br />';
                            } else if (data[3] === 1) {
                                text += '<b>生长关键期相对湿度</b><br />';
                                text += '<b>较适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[3] + '%</b><br />';
                            } else if (data[3] === 0) {
                                text += '<b>生长关键期相对湿度</b><br />';
                                text += '<b>不适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[3] + '%</b><br />';
                            }
                        }
                        {
                            if (data[4] === 2) {
                                text += '<b>海拔高度</b><br />';
                                text += '<b>适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[4] + 'm</b><br />';
                            } else if (data[4] === 1) {
                                text += '<b>海拔高度</b><br />';
                                text += '<b>较适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[4] + 'm</b><br />';
                            } else if (data[4] === 0) {
                                text += '<b>海拔高度</b><br />';
                                text += '<b>不适宜</b>&nbsp;&nbsp;&nbsp;&nbsp;';
                                text += '测量值: <b>' + realdata[4] + 'm</b><br />';
                            }
                        }
                        return text;
                    }
                },
                radar: {
                    //雷达图上下边界
                    indicator: [
                        {name: '年平均气温', max: 2, min: 0},
                        {name: '稳定通过\n10℃积温', max: 2, min: 0},
                        {name: '极端低气温\n出现频率  ', max: 2, min: 0},
                        {name: '生长关键期\n  相对湿度', max: 2, min: 0},
                        {name: '海拔高度', max: 2, min: 0},
                    ],
                    //雷达图背景关闭填充
                    splitArea: {
                        show: false
                    },
                    //指示器分割段数
                    splitNumber: 2,
                    axisName: {
                        fontSize: 13,
                        color: '#fff'
                    }
                },
                toolbox: {
                    feature: {
                        saveAsImage: {
                            title: '保存',
                            icon: 'image://assets/gizmos/download.png',
                            backgroundColor:'rgba(0,0,0,0)',
                            emphasis:{
                                iconStyle: {
                                    textFill:'#fff'}
                            }
                        }
                    },
                },
                series: [
                    {
                        type: 'radar',
                        data: [
                            {
                                value: data,
                                itemStyle: {
                                    color: '#8df294',
                                },
                                areaStyle: {
                                    color: 'rgba(141,242,148,0.4)',
                                }
                            }
                        ],
                    }
                ]
            };
            myChart_radar.setOption(option);
        });
    }

    function SetLine(name) {
        var xData_crop = [];
        var yData_crop = [];

        myChart_line.setOption({
            textStyle: {
                color: 'rgba(255, 255, 255, 255)'
            },
            title: {
                textStyle: {
                    color: 'rgba(255, 255, 255, 255)'
                }
            },
            grid: {
                left: '0%',
                right: '10%',
                top: '15%',
                bottom: '15%',
                containLabel: true
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'line',
                    lineStyle: {
                        color: '#fff',
                    },
                    label: {
                        backgroundColor: '#6a7985',
                        show: true,
                    },
                    snap: true,
                }
            },
            toolbox: {
                feature: {
                    saveAsImage: {
                        title: '保存',
                        icon: 'image://assets/gizmos/download.png'
                    }
                },
            },
            xAxis: {
                data: [],
                name: '时间',
                axisLine: {
                    lineStyle: {
                        color: '#fff',
                        width: 1,
                    }
                },
            },
            yAxis: [
                {
                    type: 'value',
                    axisLabel: {
                        show: true,
                    }
                }
            ],
            dataZoom: [{
                type: 'slider',
                start: 95.5,
                end: 100
            }],
            series: [{
                type: 'line',
                smooth: true,
                lineStyle: {
                    color: 'rgba(7, 110, 255)',
                    width: 3
                },
                areaStyle: {
                    opacity: 0.8,
                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{
                        offset: 0.2,
                        color: 'rgba(128, 255, 165)'
                    }, {
                        offset: 1,
                        color: 'rgba(1, 191, 236)'
                    }])
                },
            }]
        });
            switch (mode) {
                case 0:
                    $.get("./json/temp.json").done(function (result) {
                        var len = result.length;

                        //右下 市产量折线图
                        for (var i = 0; i < len; i++) {
                            if (result[i]['district'] === name) {
                                for (var j = 1; j < 242; j++) {
                                    yData_crop.push(result[i][testdata[j]]);
                                    xData_crop.push(testdata[j]);
                                }
                                break;
                            }
                        }
                        myChart_line.setOption({
                            title: {
                                text: name + modename + '变化图',
                            },
                            xAxis: {
                                data: xData_crop,
                            },
                            yAxis: [
                                {
                                    max: 35,
                                    min: 0,
                                    axisLabel: {
                                        formatter: function (value) {
                                            if (value === 0) {
                                                return 0
                                            } else {
                                                return value + '℃';
                                            }
                                        }
                                    }
                                }
                            ],
                            series: [{
                                name: modename,
                                data: yData_crop,
                            }]
                        });
                    });
                    break;
                case 1:
                    $.get("./json/pres.json").done(function (result) {
                        var len = result.length;

                        //右下 市产量折线图
                        for (var i = 0; i < len; i++) {
                            if (result[i]['district'] === name) {
                                for (var j = 1; j < 242; j++) {
                                    yData_crop.push(result[i][testdata[j]]);
                                    xData_crop.push(testdata[j]);
                                }
                                break;
                            }
                        }
                        myChart_line.setOption({
                            title: {
                                text: name + modename + '变化图',
                            },
                            xAxis: {
                                data: xData_crop,
                            },
                            yAxis: [
                                {
                                    max: 106000,
                                    min: 96000,
                                    axisLabel: {
                                        formatter: function (value) {
                                            if (value === 0) {
                                                return 0
                                            } else {
                                                value /= 1000;
                                                return value + 'kPa';
                                            }
                                        }
                                    }
                                }
                            ],
                            series: [{
                                name: modename,
                                data: yData_crop,
                            }]
                        });
                    });
                    break;
                case 2:
                    $.get("./json/shum.json").done(function (result) {
                        var len = result.length;

                        //右下 市产量折线图
                        for (var i = 0; i < len; i++) {
                            if (result[i]['district'] === name) {
                                for (var j = 1; j < 242; j++) {
                                    yData_crop.push(result[i][testdata[j]]);
                                    xData_crop.push(testdata[j]);
                                }
                                break;
                            }
                        }
                        myChart_line.setOption({
                            title: {
                                text: name + modename + '变化图',
                            },
                            xAxis: {
                                data: xData_crop,
                            },
                            yAxis: [
                                {
                                    max: 30,
                                    min: 0,
                                    axisLabel: {
                                        formatter: function (value) {
                                            if (value === 0) {
                                                return 0
                                            } else {
                                                return value + 'g/kg';
                                            }
                                        }
                                    }
                                }
                            ],
                            series: [{
                                name: modename,
                                data: yData_crop,
                            }]
                        });
                    });
                    break;
                case 3:
                    $.get("./json/wind.json").done(function (result) {
                        var len = result.length;

                        //右下 市产量折线图
                        for (var i = 0; i < len; i++) {
                            if (result[i]['district'] === name) {
                                for (var j = 1; j < 242; j++) {
                                    yData_crop.push(result[i][testdata[j]]);
                                    xData_crop.push(testdata[j]);
                                }
                                break;
                            }
                        }
                        myChart_line.setOption({
                            title: {
                                text: name + modename + '变化图',
                            },
                            xAxis: {
                                data: xData_crop,
                            },
                            yAxis: [
                                {
                                    max: 4,
                                    min: 1,
                                    axisLabel: {
                                        formatter: function (value) {
                                            if (value === 0) {
                                                return 0
                                            } else {
                                                return value + 'm/s';
                                            }
                                        }
                                    }
                                }
                            ],
                            series: [{
                                name: modename,
                                data: yData_crop,
                            }]
                        });
                    });
                    break;
                case 4:
                    $.get("./json/srad.json").done(function (result) {
                        var len = result.length;

                        //右下 市产量折线图
                        for (var i = 0; i < len; i++) {
                            if (result[i]['district'] === name) {
                                for (var j = 1; j < 242; j++) {
                                    yData_crop.push(result[i][testdata[j]]);
                                    xData_crop.push(testdata[j]);
                                }
                                break;
                            }
                        }
                        myChart_line.setOption({
                            title: {
                                text: name + modename + '变化图',
                            },
                            xAxis: {
                                data: xData_crop,
                            },
                            yAxis: [
                                {
                                    max: 300,
                                    min: 0,
                                    axisLabel: {
                                        formatter: function (value) {
                                            if (value === 0) {
                                                return 0
                                            } else {
                                                return value + 'W/m';
                                            }
                                        }
                                    }
                                }
                            ],
                            series: [{
                                name: modename,
                                data: yData_crop,
                            }]
                        });
                    });
                    break;
                case 5:
                    $.get("./json/lrad.json").done(function (result) {
                        var len = result.length;

                        //右下 市产量折线图
                        for (var i = 0; i < len; i++) {
                            if (result[i]['district'] === name) {
                                for (var j = 1; j < 242; j++) {
                                    yData_crop.push(result[i][testdata[j]]);
                                    xData_crop.push(testdata[j]);
                                }
                                break;
                            }
                        }
                        myChart_line.setOption({
                            title: {
                                text: name + modename + '变化图',
                            },
                            xAxis: {
                                data: xData_crop,
                            },
                            yAxis: [
                                {
                                    max: 500,
                                    min: 250,
                                    axisLabel: {
                                        formatter: function (value) {
                                            if (value === 0) {
                                                return 0
                                            } else {
                                                return value + 'W/m';
                                            }
                                        }
                                    }
                                }
                            ],
                            series: [{
                                name: modename,
                                data: yData_crop,
                            }]
                        });
                    });
                    break;
                case 6:
                    $.get("./json/prec.json").done(function (result) {
                        var len = result.length;

                        //右下 市产量折线图
                        for (var i = 0; i < len; i++) {
                            if (result[i]['district'] === name) {
                                for (var j = 1; j < 242; j++) {
                                    yData_crop.push(result[i][testdata[j]]);
                                    xData_crop.push(testdata[j]);
                                }
                                break;
                            }
                        }
                        myChart_line.setOption({
                            title: {
                                text: name + modename + '变化图',
                            },
                            xAxis: {
                                data: xData_crop,
                            },
                            yAxis: [
                                {
                                    max: 1,
                                    min: 0,
                                    axisLabel: {
                                        formatter: function (value) {
                                            if (value === 0) {
                                                return 0
                                            } else {
                                                return value + 'mm/hr';
                                            }
                                        }
                                    }
                                }
                            ],
                            series: [{
                                name: modename,
                                data: yData_crop,
                            }]
                        });
                    });
                    break;
            }
    }

</script>

</body>
</html>